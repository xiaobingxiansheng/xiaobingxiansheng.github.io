"use strict";import _Promise from"babel-runtime/core-js/promise";var animating=null,wheelAnimate=null;function getPageLenFormDom(){return document.querySelectorAll(".resume-page-box>section").length-1}var wheelCounter=function(){var e=0;return{addCounter:function(){var n;return e<=3&&e++,n=e,setTimeout(function(){n==e&&(e=0)},1e3),e},refreshCounter:function(){e=0},getCounter:function(){return e}}}(),indexController=function(){var e=0,n=getPageLenFormDom();return{getIndex:function(){return e},changeIndex:function(t){var r=e;return t?e<n&&e++:e>0&&e--,{index:e,preIndex:r}}}}();function getTranslateYfromIndex(e){return"translateY("+-e+"%)"}function wheel(){var e=0;event||(event=window.event),event.wheelDelta?(e=event.wheelDelta/120,window.opera&&(e=-e)):event.detail&&(e=-event.detail/3),null===wheelAnimate&&(wheelAnimate=setTimeout(function(){handle(e)},100))}function handle(e){var n=!(e>0),t=indexController.changeIndex(n),r=t.index,o=t.preIndex;console.log(r),r!=o?moveAnimatePage(r,o).then(function(){console.log("完成！"),wheelAnimate=null,pageAnimateStart(getElemFromPageNum(r))}):wheelAnimate=null}function moveAnimatePage(e,n){return new _Promise(function(t,r){var o=document.querySelector(".resume-page-box"),a=e>n,u=100*n,i=100*e;animating=setInterval(function(){u=a?u+2:u-2,(a?u<i:u>i)?o.style.transform=getTranslateYfromIndex(u):(o.style.transform=getTranslateYfromIndex(i),t(),l())},.06);var l=function(){clearInterval(animating)}})}function getElemFromPageNum(e){return $(".resume-page:eq("+e+")")[0]}$(function(){pageAnimateStart(getElemFromPageNum(0)),resumeNameAnimate(),window.onmousewheel=wheel});